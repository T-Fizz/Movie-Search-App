(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"movies":["The Wizard of Oz","The Great Gatsby","Jurassic Park","The Godfather","Schindler\'s List","The Matrix","Stargate","X-Men","Harry Potter and the Chamber of Secrets"]}')},16:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s(6),l=s(2),n=s(5),c=s(4),r=s(1),o=s.n(r),d=s(8),h=s.n(d),u=s(9),j=s.n(u),b=s.p+"static/media/img-placeholder.f9c8df69.png",p=s(10),m=(s(16),s(0)),O=p.movies,g="https://www.omdbapi.com/?apikey=dc24cbd7&type=movie",f=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;Object(a.a)(this,s),(i=t.call(this,e)).state={searchBarContainerClassName:"search-bar-container",isEmpty:!0,queryURI:"",isSubmitted:!1};var n=Math.floor(Math.random()*O.length);return i.exampleMovie=O[n],i.handleChange=i.handleChange.bind(Object(l.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(l.a)(i)),i}return Object(i.a)(s,[{key:"render",value:function(){return Object(m.jsx)("div",{className:this.state.searchBarContainerClassName,children:Object(m.jsx)("div",{className:"search-bar",children:Object(m.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(m.jsx)("label",{htmlFor:"search-query",children:"Movie Search"}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{placeholder:this.exampleMovie,onChange:this.handleChange,value:this.state.query}),Object(m.jsx)("button",{children:"Search"})]})})})}},{key:"handleChange",value:function(e){this.setState({isEmpty:0===e.target.value.trim().length,queryURI:g+"&s="+e.target.value.trim().split(" ").join("+")})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.queryURI;!this.state.isEmpty&&this.props.onSubmit&&(this.props.onSubmit(t),console.log("passed uri using props function"),this.setState({searchBarContainerClassName:"search-bar-container-with-results"})),console.log(t)}}]),s}(o.a.Component),x=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).titleStyles=["result-title-no-details","result-title-no-details-hovering"],i.state={wasClicked:!1,titleStyle:0},i.handleOnClick=i.handleOnClick.bind(Object(l.a)(i)),i}return Object(i.a)(s,[{key:"handleOnClick",value:function(e){e.preventDefault(),this.setState({wasClicked:!0})}},{key:"render",value:function(){var e=Object(m.jsxs)("div",{className:"result-no-details",onClick:this.handleOnClick,children:[Object(m.jsx)("div",{className:"result-title-no-details-container",children:Object(m.jsx)("button",{className:this.titleStyles[this.state.titleStyle],children:this.props.title})}),Object(m.jsx)("div",{className:"result-info-no-details-container",children:Object(m.jsxs)("p",{className:"result-info-no-details",children:["(",this.props.year,")"]})})]});return!0===this.state.wasClicked&&(e=Object(m.jsxs)("div",{className:"result",onClick:this.handleOnClick,children:[Object(m.jsxs)("div",{className:"result-info",children:[Object(m.jsxs)("div",{className:"result-title-container",children:[Object(m.jsx)("div",{className:"result-title",children:Object(m.jsx)("p",{children:this.props.title})}),Object(m.jsx)("div",{className:"result-year",children:Object(m.jsxs)("p",{children:["(",this.props.year,")"]})})]}),this.state.wasClicked&&Object(m.jsx)(N,{img:this.props.img,title:this.props.title,type:this.props.type,year:this.props.year,imdbID:this.props.imdbID})]}),Object(m.jsx)("div",{className:"result-img-container",children:"N/A"===this.props.img?Object(m.jsx)("img",{className:"result-img",src:b,alt:"Movie Poster PlaceHolder"}):Object(m.jsx)("img",{className:"result-img",src:this.props.img,alt:"Movie Poster"})})]})),e}}]),s}(o.a.Component),v=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).goToPage=function(e){console.log(e);var t=e.selected+1;console.log("gotopage"+i.state.resultsURI);var s=i.state.resultsURI.split("&page=")[0]+"&page=".concat(t);console.log("pageURI"+s),i.setState({currentPage:t}),console.log(s),i.getResults(s)},i.state={resultsURI:"",currentPage:1,fulfilled:!1,status:null,results:[],totalResults:0},i}return Object(i.a)(s,[{key:"getResults",value:function(e){var t=this;console.log("getting results for list"),console.log(e),fetch(e).then((function(e){return e.json()})).then((function(s){console.log(s),"false"===s.Response?t.setState({fulfilled:!1,status:s.Error,results:[],totalResults:0}):t.setState({fulfilled:!0,status:"Showing Results:",results:s.Search,totalResults:s.totalResults,resultsURI:e})}),(function(e){console.log(e)}))}},{key:"onResults",value:function(){this.state.fulfilled&&this.props.onResults&&(this.props.onResults(this.state.fulfilled),console.log("Changed CSS file!"))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"search-header",children:[Object(m.jsx)(f,{onSubmit:function(t){return e.getResults(t)}}),!0===this.state.fulfilled&&Object(m.jsx)("div",{className:"paginate-container",children:Object(m.jsx)(j.a,{containerClassName:"pagination",pageCount:Math.ceil(this.state.totalResults/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:this.goToPage})})]}),Object(m.jsx)("div",{className:"results-status-container",children:!0!==this.state.fulfilled&&Object(m.jsx)("h3",{className:"results-status",children:this.state.status})}),!0===this.state.fulfilled&&this.state.results.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(x,{img:e.Poster,title:e.Title,type:e.Type,year:e.Year,imdbID:e.imdbID})},e.imdbID)}))]})}}]),s}(o.a.Component),N=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).state={status:"false",data:{}},i.fetchAdditionalDetails(),i}return Object(i.a)(s,[{key:"fetchAdditionalDetails",value:function(){var e=this;console.log("getting details for "+this.props.title),fetch(g+"&i="+this.props.imdbID).then((function(e){return e.json()})).then((function(t){console.log(t),"false"===t.Response?e.setState({status:"error",details:{}}):(e.setState({status:"loading",details:t}),e.updateValuesToDisplay(),console.log("Details Obtained "+Date.now()))}),(function(e){console.log(e)}))}},{key:"updateValuesToDisplay",value:function(){var e=this.state.details;if(console.log(this.state.details),void 0===this.state.details)console.error("DETAILS IS UNDEFINED!");else{if("N/A"!==this.state.details.Released){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=this.state.details.Released.split(" "),a=s[0];console.log(s);var i=t.indexOf(s[1])+1>=10?t.indexOf(s[1]):"0"+t.indexOf(s[1]),l=s[2],n=new Date("".concat(l,"-").concat(i,"-").concat(a))}console.log("r: "+this.state.details.Released),e.Plot="N/A"!==this.state.details.Plot?this.state.details.Plot:"What was this movie about again?",e.Actors="N/A"!==this.state.details.Actors?this.state.details.Actors:"I don't know who!",e.Production="N/A"!==this.state.details.Production?this.state.details.Production:"Who made this?",e.imdbRating="N/A"!==this.state.details.imdbRating?this.state.details.imdbRating:"5/7 would rate again (jk no rating found).",e.Genre="N/A"!==this.state.details.Genre?this.state.details.Genre:"Genre unknown whoops!",e.Rated="N/A"!==this.state.details.Rated?this.state.details.Rated:'I (for "I" don\'t know.)',e.Runtime="N/A"!==this.state.details.Runtime?this.state.details.Runtime:"This movie is longer than 0.01 seconds probably.",e.Country="N/A"!==this.state.details.Country?this.state.details.Country:"Mars? (I don't know sorry!)",e.Language="N/A"!==this.state.details.Language?this.state.details.Language:"Vulkan (or unknown)",e.Released="N/A"!==this.state.details.Released?n.toLocaleDateString():"Time is just an illusion, and also I don't know when premiered.",this.setState({status:"true",details:e})}}},{key:"render",value:function(){return console.log("details render"),"true"===this.state.status?Object(m.jsxs)("div",{className:"details-container",children:[Object(m.jsx)("div",{className:"details-top",children:Object(m.jsx)("p",{className:"plot",id:"plot",children:this.state.details.Plot})}),Object(m.jsx)("div",{className:"details-bottom",children:Object(m.jsxs)("ul",{className:"details-list",children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Actors: "}),Object(m.jsx)("p",{children:this.state.details.Actors})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Studios: "}),Object(m.jsx)("p",{children:this.state.details.Production})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Premiered: "}),Object(m.jsx)("p",{children:this.state.details.Released})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"IMDB Rating: "}),Object(m.jsx)("p",{children:this.state.details.imdbRating})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Genre: "}),Object(m.jsx)("p",{children:this.state.details.Genre})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Rating: "}),Object(m.jsx)("p",{children:this.state.details.Rated})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Length: "}),Object(m.jsx)("p",{children:this.state.details.Runtime})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Country: "}),Object(m.jsx)("p",{children:this.state.details.Country})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("p",{className:"detail-label",children:"Language: "}),Object(m.jsx)("p",{children:this.state.details.Language})]})]})})]}):Object(m.jsx)("div",{className:"details-container",children:Object(m.jsx)("p",{className:"details-loading",children:"Fetching details..."})})}}]),s}(o.a.Component);o.a.Component;function y(){return Object(m.jsx)("div",{children:Object(m.jsx)(v,{})})}h.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.fcd17caf.chunk.js.map
(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var a=s(3),l=s(4),n=s(2),i=s(6),c=s(5),r=s(1),o=s.n(r),u=s(8),h=s.n(u),d=s(9),j=s.n(d),b=s.p+"static/media/img-placeholder.f9c8df69.png",p=(s(15),s(16),s(0)),f="https://www.omdbapi.com/?apikey=dc24cbd7",g=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(e){var l;return Object(a.a)(this,s),(l=t.call(this,e)).state={searchBarContainerClassName:"search-bar-container",isEmpty:!0,queryURI:"",isSubmitted:!1},l.handleChange=l.handleChange.bind(Object(n.a)(l)),l.handleSubmit=l.handleSubmit.bind(Object(n.a)(l)),l}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:this.state.searchBarContainerClassName,children:Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("label",{htmlFor:"search-query",children:"Movie Search"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{placeholder:"The Wizard of Oz",onChange:this.handleChange,value:this.state.query}),Object(p.jsx)("button",{children:"Search"})]})})})}},{key:"handleChange",value:function(e){this.setState({isEmpty:0===e.target.value.trim().length,queryURI:f+"&s="+e.target.value.split(" ").join("+")})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.queryURI;!this.state.isEmpty&&this.props.onSubmit&&(this.props.onSubmit(t),console.log("passed uri using props function"),this.setState({searchBarContainerClassName:"search-bar-container-with-results"})),console.log(t)}}]),s}(o.a.Component),O=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(e){var l;return Object(a.a)(this,s),(l=t.call(this,e)).fetchAdditionalDetails=function(){console.log("getting details for "+l.props.title),fetch(f+"&i="+l.props.imdbID).then((function(e){return e.json()})).then((function(e){console.log(e),"False"===e.Response?l.setState({detailsFulfilled:!1,details:{}}):l.setState({detailsFulfilled:!0,details:e})}),(function(e){console.log(e)}))},l.state={wasClicked:!1,details:{},detailsFulfilled:!1},l.handleOnClick=l.handleOnClick.bind(Object(n.a)(l)),l}return Object(l.a)(s,[{key:"handleOnClick",value:function(e){e.preventDefault(),this.fetchAdditionalDetails(),this.setState({wasClicked:!0})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"result",children:[Object(p.jsxs)("div",{className:"result-info",children:[Object(p.jsx)("div",{className:"result-title",children:Object(p.jsx)("p",{children:this.props.title})}),!0!==this.state.detailsFulfilled?Object(p.jsx)("div",{className:"result-details",children:Object(p.jsxs)("p",{children:["Year: ",this.props.year,Object(p.jsx)("br",{}),Object(p.jsx)("button",{onClick:this.handleOnClick,children:"click for more info"})]})}):Object(p.jsx)("div",{className:"result-details",children:Object(p.jsxs)("p",{children:["Year: ",this.props.year,Object(p.jsx)("br",{}),"Released: ",this.state.details.Released,Object(p.jsx)("br",{}),"Rated: ",this.state.details.Rated,Object(p.jsx)("br",{}),"Genre: ",this.state.details.Genre]})})]}),Object(p.jsx)("div",{className:"result-img-container",children:"N/A"===this.props.img?Object(p.jsx)("img",{className:"result-img",src:b,alt:"Movie Poster PlaceHolder"}):Object(p.jsx)("img",{className:"result-img",src:this.props.img,alt:"Movie Poster"})})]})}}]),s}(o.a.Component),m=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(e){var l;return Object(a.a)(this,s),(l=t.call(this,e)).goToPage=function(e){console.log(e);var t=e.selected+1,s=JSON.parse(l.state.resultsURI).split("&page=")[0]+"&page=".concat(t);l.setState({currentPage:t}),console.log(s),l.getResults(s)},l.state={resultsURI:"",currentPage:1,fulfilled:!1,status:null,results:[],totalResults:0},l}return Object(l.a)(s,[{key:"getResults",value:function(e){var t=this;console.log("getting results for list"),console.log(e),fetch(e).then((function(e){return e.json()})).then((function(s){console.log(s),"False"===s.Response?t.setState({fulfilled:!1,status:s.Error,results:[],totalResults:0}):t.setState({fulfilled:!0,status:"Showing Results:",results:s.Search,totalResults:s.totalResults,resultsURI:JSON.stringify(e)})}),(function(e){console.log(e)}))}},{key:"onResults",value:function(){this.state.fulfilled&&this.props.onResults&&(this.props.onResults(this.state.fulfilled),console.log("Changed CSS file!"))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"search-header",children:[Object(p.jsx)(g,{onSubmit:function(t){return e.getResults(t)}}),!0===this.state.fulfilled&&Object(p.jsx)("div",{className:"paginate-container",children:Object(p.jsx)(j.a,{containerClassName:"pagination",pageCount:Math.ceil(this.state.totalResults/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:this.goToPage})})]}),Object(p.jsx)("h4",{children:this.state.status}),!0===this.state.fulfilled&&this.state.results.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(O,{img:e.Poster,title:e.Title,type:e.Type,year:e.Year,imdbID:e.imdbID})},e.imdbID)}))]})}}]),s}(o.a.Component),v=function(e){Object(i.a)(s,e);var t=Object(c.a)(s);function s(e){var l;return Object(a.a)(this,s),(l=t.call(this,e)).state={stylePath:"./style1.css"},l.handleStyleChange=l.handleStyleChange.bind(Object(n.a)(l)),l}return Object(l.a)(s,[{key:"handleStyleChange",value:function(e){!0===e?this.setState({stylePath:"./style1.css"}):this.setState({stylePath:"./style2.css"})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("link",{rel:"stylesheet",href:this.state.stylePath}),Object(p.jsx)(m,{onResults:function(t){return e.handleStyleChange(t)}})]})}}]),s}(o.a.Component);h.a.render(Object(p.jsx)(v,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.cd755d51.chunk.js.map
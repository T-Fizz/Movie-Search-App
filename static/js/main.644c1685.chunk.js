(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{428:function(e,t,s){},429:function(e,t,s){},431:function(e,t,s){"use strict";s.r(t);var l=s(30),a=s(43),i=s(29),n=s(33),c=s(32),r=(s(130),s(8)),o=s.n(r),d=s(13),h=s.n(d),j=s(129),u=s.n(j),b=s.p+"static/media/img-placeholder.f9c8df69.png",p=(s(428),s(429),s(1)),m="https://www.omdbapi.com/?apikey=dc24cbd7",O=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={searchBarContainerClassName:"search-bar-container",isEmpty:!0,queryURI:"",isSubmitted:!1},a.handleChange=a.handleChange.bind(Object(i.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(i.a)(a)),a}return Object(a.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:this.state.searchBarContainerClassName,children:Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("label",{htmlFor:"search-query",children:"Movie Search"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{placeholder:"The Wizard of Oz",onChange:this.handleChange,value:this.state.query}),Object(p.jsx)("button",{children:"Search"})]})})})}},{key:"handleChange",value:function(e){this.setState({isEmpty:0===e.target.value.trim().length,queryURI:m+"&s="+e.target.value.trim().split(" ").join("+")})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.queryURI;!this.state.isEmpty&&this.props.onSubmit&&(this.props.onSubmit(t),console.log("passed uri using props function"),this.setState({searchBarContainerClassName:"search-bar-container-with-results"})),console.log(t)}}]),s}(o.a.Component),g=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).state={status:"false",wasClicked:!1,details:{},detailsFulfilled:!1},a.handleOnClick=a.handleOnClick.bind(Object(i.a)(a)),a}return Object(a.a)(s,[{key:"fetchAdditionalDetails",value:function(){var e=this;console.log("getting details for "+this.props.title),fetch(m+"&i="+this.props.imdbID).then((function(e){return e.json()})).then((function(t){console.log(t),"False"===t.Response?e.setState({status:"error",detailsFulfilled:!1,details:{}}):(e.setState({status:"true",detailsFulfilled:!0,details:t}),console.log("Details Obtained "+Date.now()))}),(function(e){console.log(e)}))}},{key:"handleOnClick",value:function(e){e.preventDefault(),this.fetchAdditionalDetails(),this.setState({wasClicked:!0})}},{key:"render",value:function(){var e;return e="false"===this.state.status?Object(p.jsx)("div",{className:"details-bottom",children:Object(p.jsx)("p",{className:"details-not-clicked",children:"Click panel to show more!"})}):"true"===this.state.status?Object(p.jsxs)("div",{className:"details-container",children:[Object(p.jsx)("div",{className:"details-top",children:Object(p.jsx)("p",{className:"plot",id:"plot",children:this.plot})}),Object(p.jsx)("div",{className:"details-bottom",children:Object(p.jsxs)("ul",{className:"details-list",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Actors: "}),Object(p.jsx)("p",{children:this.state.details.Actors})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Studios: "}),Object(p.jsx)("p",{children:this.state.details.Production})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Premiered: "}),Object(p.jsx)("p",{children:this.state.details.Release})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"IMDB Rating: "}),Object(p.jsx)("p",{children:this.state.details.imdbRating})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Genre: "}),Object(p.jsx)("p",{children:this.state.details.Genre})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Rating: "}),Object(p.jsx)("p",{children:this.state.details.Rated})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Length: "}),Object(p.jsx)("p",{children:this.state.details.Runtime})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Country: "}),Object(p.jsx)("p",{children:this.state.details.Country})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Language: "}),Object(p.jsx)("p",{children:this.state.details.Language})]})]})})]}):Object(p.jsx)("div",{className:"details-container",children:Object(p.jsx)("p",{className:"details-error",children:"Something went wrong!"})}),Object(p.jsxs)("div",{className:"result",onClick:this.handleOnClick,children:[Object(p.jsxs)("div",{className:"result-info",children:[Object(p.jsxs)("div",{className:"result-title-container",children:[Object(p.jsx)("div",{className:"result-title",children:Object(p.jsx)("p",{children:this.props.title})}),Object(p.jsx)("div",{className:"result-year",children:Object(p.jsxs)("p",{children:["(",this.props.year,")"]})})]}),e]}),Object(p.jsx)("div",{className:"result-img-container",children:"N/A"===this.props.img?Object(p.jsx)("img",{className:"result-img",src:b,alt:"Movie Poster PlaceHolder"}):Object(p.jsx)("img",{className:"result-img",src:this.props.img,alt:"Movie Poster"})})]})}}]),s}(o.a.Component),x=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(l.a)(this,s),(a=t.call(this,e)).goToPage=function(e){console.log(e);var t=e.selected+1;console.log("gotopage"+a.state.resultsURI);var s=a.state.resultsURI.split("&page=")[0]+"&page=".concat(t);console.log("pageURI"+s),a.setState({currentPage:t}),console.log(s),a.getResults(s)},a.state={resultsURI:"",currentPage:1,fulfilled:!1,status:null,results:[],totalResults:0},a}return Object(a.a)(s,[{key:"getResults",value:function(e){var t=this;console.log("getting results for list"),console.log(e),fetch(e).then((function(e){return e.json()})).then((function(s){console.log(s),"False"===s.Response?t.setState({fulfilled:!1,status:s.Error,results:[],totalResults:0}):t.setState({fulfilled:!0,status:"Showing Results:",results:s.Search,totalResults:s.totalResults,resultsURI:e})}),(function(e){console.log(e)}))}},{key:"onResults",value:function(){this.state.fulfilled&&this.props.onResults&&(this.props.onResults(this.state.fulfilled),console.log("Changed CSS file!"))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"search-header",children:[Object(p.jsx)(O,{onSubmit:function(t){return e.getResults(t)}}),!0===this.state.fulfilled&&Object(p.jsx)("div",{className:"paginate-container",children:Object(p.jsx)(u.a,{containerClassName:"pagination",pageCount:Math.ceil(this.state.totalResults/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:this.goToPage})})]}),Object(p.jsx)("div",{className:"results-status-container",children:!0!==this.state.fulfilled&&Object(p.jsx)("h3",{className:"results-status",children:this.state.status})}),!0===this.state.fulfilled&&this.state.results.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(g,{img:e.Poster,title:e.Title,type:e.Type,year:e.Year,imdbID:e.imdbID})},e.imdbID)}))]})}}]),s}(o.a.Component);o.a.Component,o.a.Component;function f(){return Object(p.jsx)("div",{children:Object(p.jsx)(x,{})})}h.a.render(Object(p.jsx)(f,{}),document.getElementById("root"))}},[[431,1,2]]]);
//# sourceMappingURL=main.644c1685.chunk.js.map
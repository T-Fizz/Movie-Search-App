(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{15:function(e,t,s){},16:function(e,t,s){},18:function(e,t,s){"use strict";s.r(t);var a=s(3),i=s(6),l=s(2),n=s(5),c=s(4),r=s(1),o=s.n(r),d=s(8),h=s.n(d),u=s(9),j=s.n(u),b=s.p+"static/media/img-placeholder.f9c8df69.png",p=(s(15),s(16),s(0)),m="https://www.omdbapi.com/?apikey=dc24cbd7&type=movie",O=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).state={searchBarContainerClassName:"search-bar-container",isEmpty:!0,queryURI:"",isSubmitted:!1},i.handleChange=i.handleChange.bind(Object(l.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(l.a)(i)),i}return Object(i.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:this.state.searchBarContainerClassName,children:Object(p.jsx)("div",{className:"search-bar",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("label",{htmlFor:"search-query",children:"Movie Search"}),Object(p.jsx)("br",{}),Object(p.jsx)("input",{placeholder:"The Wizard of Oz",onChange:this.handleChange,value:this.state.query}),Object(p.jsx)("button",{children:"Search"})]})})})}},{key:"handleChange",value:function(e){this.setState({isEmpty:0===e.target.value.trim().length,queryURI:m+"&s="+e.target.value.trim().split(" ").join("+")})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state.queryURI;!this.state.isEmpty&&this.props.onSubmit&&(this.props.onSubmit(t),console.log("passed uri using props function"),this.setState({searchBarContainerClassName:"search-bar-container-with-results"})),console.log(t)}}]),s}(o.a.Component),g=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).state={status:"false",wasClicked:!1,details:{},detailsFulfilled:!1},i.handleOnClick=i.handleOnClick.bind(Object(l.a)(i)),i}return Object(i.a)(s,[{key:"fetchAdditionalDetails",value:function(){var e=this;console.log("getting details for "+this.props.title),fetch(m+"&i="+this.props.imdbID).then((function(e){return e.json()})).then((function(t){console.log(t),"False"===t.Response?e.setState({status:"error",detailsFulfilled:!1,details:{}}):(e.setState({status:"true",detailsFulfilled:!0,details:t}),e.updateValuesToDisplay(),console.log("Details Obtained "+Date.now()))}),(function(e){console.log(e)}))}},{key:"updateValuesToDisplay",value:function(){var e=this.state.details;if(console.log(this.state.details),void 0===this.state.details)console.error("DETAILS IS UNDEFINED!");else{if("N/A"!==this.state.details.Released){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=this.state.details.Released.split(" "),a=s[0];console.log(s);var i=t.indexOf(s[1])+1>=10?t.indexOf(s[1]):"0"+t.indexOf(s[1]),l=s[2],n=new Date("".concat(l,"-").concat(i,"-").concat(a))}console.log("r: "+this.state.details.Released);var c="N/A"!==this.state.details.Plot?this.state.details.Plot:"unknown",r="N/A"!==this.state.details.Actors?this.state.details.Actors:"unknown",o="N/A"!==this.state.details.Production?this.state.details.Production:"unknown",d="N/A"!==this.state.details.imdbRating?this.state.details.imdbRating:"unknown",h="N/A"!==this.state.details.Genre?this.state.details.Genre:"unknown",u="N/A"!==this.state.details.Rated?this.state.details.Rated:"unknown",j="N/A"!==this.state.details.Runtime?this.state.details.Runtime:"unknown",b="N/A"!==this.state.details.Country?this.state.details.Country:"unknown",p="N/A"!==this.state.details.Language?this.state.details.Language:"unknown",m="N/A"!==this.state.details.Released?n.toLocaleDateString():"unknown";e.Plot=c,e.Actors=r,e.Production=o,e.imdbRating=d,e.Genre=h,e.Rated=u,e.Runtime=j,e.Country=b,e.Language=p,e.Released=m,this.setState({details:e})}}},{key:"handleOnClick",value:function(e){e.preventDefault(),this.fetchAdditionalDetails(),this.setState({wasClicked:!0}),this.forceUpdate()}},{key:"render",value:function(){var e;return console.log("details render"),e="true"===this.state.status&&!0===this.state.detailsFulfilled?Object(p.jsxs)("div",{className:"details-container",children:[Object(p.jsx)("div",{className:"details-top",children:Object(p.jsx)("p",{className:"plot",id:"plot",children:this.state.details.Plot})}),Object(p.jsx)("div",{className:"details-bottom",children:Object(p.jsxs)("ul",{className:"details-list",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Actors: "}),Object(p.jsx)("p",{children:this.state.details.Actors})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Studios: "}),Object(p.jsx)("p",{children:this.state.details.Production})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Premiered: "}),Object(p.jsx)("p",{children:this.state.details.Released})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"IMDB Rating: "}),Object(p.jsx)("p",{children:this.state.details.imdbRating})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Genre: "}),Object(p.jsx)("p",{children:this.state.details.Genre})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Rating: "}),Object(p.jsx)("p",{children:this.state.details.Rated})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Length: "}),Object(p.jsx)("p",{children:this.state.details.Runtime})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Country: "}),Object(p.jsx)("p",{children:this.state.details.Country})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("p",{className:"detail-label",children:"Language: "}),Object(p.jsx)("p",{children:this.state.details.Language})]})]})})]}):"false"===this.state.status?Object(p.jsx)("div",{className:"details-bottom",children:Object(p.jsx)("p",{className:"details-not-clicked",children:"Click panel to show more!"})}):Object(p.jsx)("div",{className:"details-container",children:Object(p.jsx)("p",{className:"details-error",children:"Something went wrong!"})}),Object(p.jsxs)("div",{className:"result",onClick:this.handleOnClick,children:[Object(p.jsxs)("div",{className:"result-info",children:[Object(p.jsxs)("div",{className:"result-title-container",children:[Object(p.jsx)("div",{className:"result-title",children:Object(p.jsx)("p",{children:this.props.title})}),Object(p.jsx)("div",{className:"result-year",children:Object(p.jsxs)("p",{children:["(",this.props.year,")"]})})]}),e]}),Object(p.jsx)("div",{className:"result-img-container",children:"N/A"===this.props.img?Object(p.jsx)("img",{className:"result-img",src:b,alt:"Movie Poster PlaceHolder"}):Object(p.jsx)("img",{className:"result-img",src:this.props.img,alt:"Movie Poster"})})]})}}]),s}(o.a.Component),f=function(e){Object(n.a)(s,e);var t=Object(c.a)(s);function s(e){var i;return Object(a.a)(this,s),(i=t.call(this,e)).goToPage=function(e){console.log(e);var t=e.selected+1;console.log("gotopage"+i.state.resultsURI);var s=i.state.resultsURI.split("&page=")[0]+"&page=".concat(t);console.log("pageURI"+s),i.setState({currentPage:t}),console.log(s),i.getResults(s)},i.state={resultsURI:"",currentPage:1,fulfilled:!1,status:null,results:[],totalResults:0},i}return Object(i.a)(s,[{key:"getResults",value:function(e){var t=this;console.log("getting results for list"),console.log(e),fetch(e).then((function(e){return e.json()})).then((function(s){console.log(s),"False"===s.Response?t.setState({fulfilled:!1,status:s.Error,results:[],totalResults:0}):t.setState({fulfilled:!0,status:"Showing Results:",results:s.Search,totalResults:s.totalResults,resultsURI:e})}),(function(e){console.log(e)}))}},{key:"onResults",value:function(){this.state.fulfilled&&this.props.onResults&&(this.props.onResults(this.state.fulfilled),console.log("Changed CSS file!"))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"search-header",children:[Object(p.jsx)(O,{onSubmit:function(t){return e.getResults(t)}}),!0===this.state.fulfilled&&Object(p.jsx)("div",{className:"paginate-container",children:Object(p.jsx)(j.a,{containerClassName:"pagination",pageCount:Math.ceil(this.state.totalResults/10),pageRangeDisplayed:5,marginPagesDisplayed:2,onPageChange:this.goToPage})})]}),Object(p.jsx)("div",{className:"results-status-container",children:!0!==this.state.fulfilled&&Object(p.jsx)("h3",{className:"results-status",children:this.state.status})}),!0===this.state.fulfilled&&this.state.results.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)(g,{img:e.Poster,title:e.Title,type:e.Type,year:e.Year,imdbID:e.imdbID})},e.imdbID)}))]})}}]),s}(o.a.Component);o.a.Component;function x(){return Object(p.jsx)("div",{children:Object(p.jsx)(f,{})})}h.a.render(Object(p.jsx)(x,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f50b2c57.chunk.js.map